### HEAD - всему голова

Файл HEAD (англ. «голова», «головной») — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый).

### git log

git log --oneline

```
f0e6542 (HEAD -> master, origin/master) Шпора готова по md
9e8b23e Добавление всякой фигни
```

выдаёт сокращённые хеши

git log --graph

```
* commit f0e65420ad60aa4bc15f02e8cd9bc2bd2e45a160 (HEAD -> master, origin/master)
| Author: parlament700 <alexfresh700@gmail.com>
| Date: Fri Feb 23 11:17:14 2024 +0700
|
| Шпора готова по md
|
* commit 9e8b23e06ec334dac6e4b2bb20ab281091747c6d
  Author: parlament700 <alexfresh700@gmail.com>
  Date: Fri Feb 23 11:06:49 2024 +0700
```

выдаёт граф и визуальное разделение веток

# Как исправить коммит?

Можно использовать '--amend'

**Важно** - _'--amend' используется только для последнего коммита_

### Дополнить коммит новыми файлами

Представьте, что делаете небольшой сайт и для этого создали файл-страницу 'main.html', а также файл со стилями 'common.css'.

```
$ touch main.html
$ touch common.css
# дальше отредактировали оба файла
```

В какой-то момент вы забыли о файле 'common.css' и добавили в коммит только 'main.html'.

```
$ git add main.html
$ git commit -m "Добавить главную страницу"
$ git log --oneline
777fec3 Добавить главную страницу
```

Файл 'common.css' так и остался _«висеть»_ в 'untracked'. В этом легко убедиться, если вызвать 'git status'.

```
$ git status
On branch main
Untracked files:
  (use "git add <file>..." to include in what will be committed)
          common.css

nothing added to commit but untracked files present (use "git add" to track)
```

Дополните последний коммит забытым файлом 'common.css' с помощью опции '--amend'.

```
$ git add common.css
# добавили файл common.css в список на коммит как обычно

# но вместо команды commit -m '...'
# будет:
$ git commit --amend --no-edit

$ git log --oneline
8340eb2 Добавить главную страницу
# коммит в истории всё ещё один (но у него новый хеш)
```

Обратите внимание на опцию '--no-edit'. Она сообщает команде 'commit', что сообщение коммита нужно оставить как было.

### Точно так же можно добавить не новый файл, а дополнительные изменения в уже добавленном в коммит файле.

```
# ещё раз отредактировали main.html

$ git add main.html # добавили в список на коммит
$ git commit --amend --no-edit
```

_Что же выбрать: новый коммит или --amend?_

В нашем примере вместо изменения последнего коммита можно было также выполнить новый коммит с одним файлом 'common.css'. Кажется, что так проще, но добавить изменения в уже существующий коммит может быть правильнее.
Например, через месяц кто-то захочет просмотреть историю изменений. Намного проще понять, что изменилось, если оба файла находятся в одном коммите. Иначе коммит со второй порцией изменений придётся искать.
